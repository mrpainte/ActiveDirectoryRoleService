# Development environment configuration for local Samba AD DC
# Used with: make dev-up (docker-compose.yml + docker-compose.dev.yml)

# Django
DJANGO_SETTINGS_MODULE=ad_manager.settings.development
DJANGO_SECRET_KEY=dev-secret-key-not-for-production
ALLOWED_HOSTS=*
TZ=UTC

# Reverse proxy settings
SECURE_SSL_REDIRECT=false
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Database
DB_NAME=ad_manager
DB_USER=ad_manager
DB_PASSWORD=devpassword123
DB_HOST=postgres
DB_PORT=5432

# Active Directory / LDAP — points to local Samba DC
# Uses LDAPS so the web app can set passwords (unicodePwd requires encrypted connection)
AD_LDAP_SERVERS=ldaps://samba-dc
AD_LDAP_USE_SSL=true
AD_BASE_DN=DC=dev,DC=local
AD_DOMAIN=DEV
AD_USER_SEARCH_BASE=DC=dev,DC=local
AD_GROUP_SEARCH_BASE=DC=dev,DC=local
AD_COMPUTER_SEARCH_BASE=DC=dev,DC=local
AD_BIND_DN=CN=svc_admanager,OU=Service Accounts,DC=dev,DC=local
AD_BIND_PASSWORD=SvcP@ssw0rd!2024

# Kerberos SSO (disabled for dev)
AD_KERBEROS_ENABLED=false

# LDAP Pool
AD_LDAP_POOL_SIZE=5
AD_LDAP_POOL_LIFETIME=300
AD_LDAP_CONNECT_TIMEOUT=5
AD_LDAP_RECEIVE_TIMEOUT=10

# Celery / Redis
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Email — console backend in development
NOTIFICATION_BACKEND=smtp
EMAIL_HOST=localhost
EMAIL_PORT=25
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
EMAIL_USE_TLS=false
DEFAULT_FROM_EMAIL=noreply@dev.local

# Password Expiry
PASSWORD_EXPIRY_WARN_DAYS=14,7,3,1

# Rate Limiting (disabled for dev)
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REDIS_URL=redis://redis:6379/0

# Session
SESSION_COOKIE_AGE=28800
